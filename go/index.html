<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>go</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="icon" type="image/png" href="../images/icon.png">

<style>
  @font-face {
    font-family: "RuneScape UF";
    src: url("../fonts/RuneScape-UF.woff2") format("woff2"),
         url("../fonts/RuneScape-UF.woff") format("woff");
    font-weight: normal;
    font-style: normal;
  }

  html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    background: white;
    overflow: hidden;
    cursor: url("../images/cursor/cursor.png"), auto;
  }

  /* PASSWORD SCREEN */
  .password-screen {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    background: white;
    font-family: "RuneScape UF", Arial, sans-serif;
  }

  .password-box { text-align: center; }

  .password-box label {
    font-size: 32px;
    display: block;
    margin-bottom: 12px;
  }

  .password-box input {
    font-family: "RuneScape UF", Arial, sans-serif;
    font-size: 24px;
    padding: 8px 12px;
    border: 2px solid black;
    outline: none;
    text-align: center;
    background: white;
    color: black;
  }

  .password-box input:hover,
  .password-box input:focus {
    cursor: url("../images/cursor/cursor-hover.png"), auto;
  }

  /* VIDEO PAGE */
  .video-page {
    display: none;
    width: 100%;
    height: 100%;
    background: white;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .video-wrapper {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: white;
  }

  video {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    opacity: 0;
    animation: fadeInVideo 1.5s ease forwards;
    transform: scale(1.3);
    transition: transform 0.3s ease;
  }

  @media (max-width: 768px) {
    video { transform: scale(1.1); }
  }

  @keyframes fadeInVideo { to { opacity: 1; } }
</style>
</head>

<body>

<!-- PASSWORD SCREEN -->
<div class="password-screen" id="passwordScreen">
  <div class="password-box">
    <label for="passwordInput">password:</label>
    <input type="password" id="passwordInput" autocomplete="off">
  </div>
</div>

<!-- VIDEO PAGE -->
<div class="video-page" id="videoPage">
  <div class="video-wrapper">
    <video id="video" playsinline disablePictureInPicture controlslist="nodownload nofullscreen noremoteplayback">
      <source src="video.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>
</div>

<script>
const passwordInput = document.getElementById("passwordInput");
const passwordScreen = document.getElementById("passwordScreen");
const videoPage = document.getElementById("videoPage");
const video = document.getElementById("video");

// Define password actions
const passwordActions = {
  "donovan": {
    type: "video",
    src: "video.mp4",
    redirect: "https://www.betterhelp.com/"
  },
  "rick": {
    type: "redirect",
    url: "https://www.youtube.com/watch?v=dQw4w9WgXcQ"
  },
  "bart simpson": {
    type: "video",
    src: "bart.mp4",
    redirect: null // resets to password screen after finished
  }
};

passwordInput.addEventListener("keydown", function(e) {
  if (e.key === "Enter") {
    const key = passwordInput.value.toLowerCase();
    const action = passwordActions[key];

    if (!action) {
      passwordInput.value = "";
      alert("Incorrect password, try again.");
      return;
    }

    passwordInput.disabled = true;

    if (action.type === "redirect") {
      // Open link in new tab, reset input for next use
      window.open(action.url, "_blank");
      passwordInput.disabled = false;
      passwordInput.value = "";
    } 
    else if (action.type === "video") {
      // Show video page
      passwordScreen.style.display = "none";
      videoPage.style.display = "flex";

      video.src = action.src;
      video.muted = false; // ensure audio plays
      video.volume = 1;
      video.play().catch(() => {
        console.log("Autoplay with sound may be blocked on this browser.");
      });

      // Remove old ended listeners to prevent duplicates
      video.replaceWith(video.cloneNode(true));
      const newVideo = document.getElementById("video");

      newVideo.addEventListener("ended", () => {
        if (action.redirect) {
          window.open(action.redirect, "_blank");
          // reset to password screen after redirect
          videoPage.style.display = "none";
          passwordScreen.style.display = "flex";
          passwordInput.disabled = false;
          passwordInput.value = "";
        } else {
          // Reset to password screen
          videoPage.style.display = "none";
          passwordScreen.style.display = "flex";
          passwordInput.disabled = false;
          passwordInput.value = "";
        }
      });
    }
  }
});

// Disable right-click
document.addEventListener("contextmenu", e => e.preventDefault());
</script>

</body>
</html>
